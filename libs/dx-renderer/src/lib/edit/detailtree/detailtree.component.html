<div class="dx-texteditor-label" [style.position]="'relative'">{{layoutItem?.options?.caption ?? ''}}</div>
<dx-tree-list *ngIf="columns" #grid
    [height]="height" 
    width="100%"
    [repaintChangesOnly]="true"
    [columnAutoWidth]="true"    
    [allowColumnResizing]="true"
    [columns]="columns"
    [dataSource]="value"
    [dataStructure]="'tree'"
    [itemsExpr]="'items'"
    (onEditorPreparing)="onEditorPreparing($event)"
    (onInitNewRow)="onInitNewRow($event)"
    (onRowValidating)="onRowValidating($event)">
    <dxo-editing mode="cell" [useIcons]="true" 
        [allowAdding]="allowAdd" 
        [allowUpdating]="allowUpdate" 
        [allowDeleting]="allowDelete">
    </dxo-editing>
    <div *dxTemplate="let cell of 'dynamic'">
        <ballware-edit-dynamic-column [editing]="false" [dataMember]="cell.column.editorOptions.dataMember" [item]="cell.data" [column]="cell.column.editorOptions" ></ballware-edit-dynamic-column>
    </div>
    <div *dxTemplate="let cell of 'dynamicedit'">
        <ballware-edit-dynamic-column [editing]="true" [dataMember]="cell.column.editorOptions.dataMember" [item]="cell.data" [column]="cell.column.editorOptions" ></ballware-edit-dynamic-column>
    </div>    
</dx-tree-list>